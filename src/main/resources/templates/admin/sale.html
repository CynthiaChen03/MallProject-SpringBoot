<!DOCTYPE html>
<html lang="en">
<html lang='cn' xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="./images/favicon.png">
    <link rel="stylesheet" th:href="@{/manage/vendor/chartist/css/chartist.min.css}">
    <link th:href="@{/manage/vendor/bootstrap-select/dist/css/bootstrap-select.min.css}" rel="stylesheet">
    <link th:href="@{/manage/css/style.css}" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
</head>
<body>

<!--*******************
        Preloader start
    ********************-->
<div id="preloader">
    <div class="sk-three-bounce">
        <div class="sk-child sk-bounce1"></div>
        <div class="sk-child sk-bounce2"></div>
        <div class="sk-child sk-bounce3"></div>
    </div>
</div>
<!--*******************
    Preloader end
********************-->

<!--**********************************
    Main wrapper start
***********************************-->
<div id="main-wrapper">

    <!--**********************************
        Nav header start
    ***********************************-->
    <div class="nav-header">
        <a href="index.html" class="brand-logo">
            <svg class="logo-abbr" width="64" height="64" viewBox="0 0 64 64" fill="none"
                 xmlns="http://www.w3.org/2000/svg">
                <rect width="64" height="64" rx="2" fill="#FFF0E4" class="svg-logo-rect"/>
                <path class="svg-logo-path"
                      d="M31.5785 19.6842C31.5785 22.0351 30.765 26.0526 29.1379 31.7368C27.5109 37.386 26.6973 41 26.6973 42.5789C26.6973 44.1228 27.378 44.8947 28.7395 44.8947C30.1341 44.8947 32.0268 43.8246 34.4176 41.6842C34.5172 39.8947 34.7995 37.7544 35.2644 35.2632C36.659 27.4386 38.3525 21.7719 40.3448 18.2632C42.3372 14.7544 44.6616 13 47.318 13C48.8787 13 50.0409 13.4912 50.8046 14.4737C51.6015 15.4211 52 16.6842 52 18.2632C52 23.2456 48.7791 29.9474 42.3372 38.3684C42.2375 39.7368 42.1877 41.1228 42.1877 42.5263C42.1877 45.4386 42.6526 46.8947 43.5824 46.8947C44.1469 46.8947 44.6284 46.8246 45.0268 46.6842L45.7739 48.6842C43.7152 50.2281 41.6564 51 39.5977 51C36.6092 51 34.8991 49.1579 34.4674 45.4737C30.4828 49.1579 27.0792 51 24.2567 51C22.5632 51 21.1852 50.4561 20.1226 49.3684C19.0932 48.2456 18.5785 46.6316 18.5785 44.5263C18.5785 43.2982 18.9604 41.3158 19.7241 38.5789C20.5211 35.807 20.9859 34.1754 21.1188 33.6842C15.7063 31.3333 13 28.0702 13 23.8947C13 21.0175 14.2618 18.4912 16.7854 16.3158C19.3091 14.1053 22.1149 13 25.2031 13C29.4534 13 31.5785 15.2281 31.5785 19.6842ZM22.0651 29.8947C23.2273 25.614 23.8084 22.4211 23.8084 20.3158C23.8084 18.2105 23.0945 17.1579 21.6667 17.1579C20.272 17.1579 18.9936 17.8246 17.8314 19.1579C16.6692 20.4912 16.0881 21.9649 16.0881 23.5789C16.0881 25.1579 16.6692 26.4912 17.8314 27.5789C18.9936 28.6316 20.4049 29.4035 22.0651 29.8947ZM49.0115 18.1579C49.0115 17.2105 48.6794 16.7368 48.0153 16.7368C46.5543 16.7368 44.8774 22.0702 42.9847 32.7368C44.4789 30.6667 45.857 28.193 47.1188 25.3158C48.3806 22.4035 49.0115 20.0175 49.0115 18.1579Z"
                      fill="#FF720D"/>
            </svg>
            <div class="brand-title">Restina</div>
        </a>
        <div class="nav-control">
            <div class="hamburger">
                <span class="line"></span><span class="line"></span><span class="line"></span>
            </div>
        </div>
    </div>
    <!--**********************************
        Nav header end
    ***********************************-->

    <!--**********************************
    Header start
    ***********************************-->
    <div class="header">
        <div class="header-content">
            <nav class="navbar navbar-expand">
                <div class="collapse navbar-collapse justify-content-between">
                    <div class="header-left">
                        <div class="dashboard_bar">
                            Sales Chart
                        </div>
                    </div>
                    <ul class="navbar-nav header-right">
                        <li class="nav-item dropdown header-profile">
                            <a class="nav-link" href="#" role="button" data-toggle="dropdown">
                                <img th:src="@{/manage/images/profile/pic1.jpg}" width="20" alt=""/>
                                <div class="header-info">
                                    <span class="fs-20 font-w500">Junyi Yuan</span>
                                    <small>Super Admin</small>
                                </div>
                            </a>
                            <div class="dropdown-menu dropdown-menu-right">
                                <a href="./app-profile.html" class="dropdown-item ai-icon">
                                    <svg id="icon-user1" xmlns="http://www.w3.org/2000/svg" class="text-primary"
                                         width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                                        <circle cx="12" cy="7" r="4"></circle>
                                    </svg>
                                    <span class="ml-2">Profile </span>
                                </a>
                                <a href="./email-inbox.html" class="dropdown-item ai-icon">
                                    <svg id="icon-inbox" xmlns="http://www.w3.org/2000/svg" class="text-success"
                                         width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path>
                                        <polyline points="22,6 12,13 2,6"></polyline>
                                    </svg>
                                    <span class="ml-2">Inbox </span>
                                </a>
                                <a th:href="@{/admin/logout.do}" class="dropdown-item ai-icon">
                                    <svg id="icon-logout" xmlns="http://www.w3.org/2000/svg" class="text-danger"
                                         width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                         stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                        <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
                                        <polyline points="16 17 21 12 16 7"></polyline>
                                        <line x1="21" y1="12" x2="9" y2="12"></line>
                                    </svg>
                                    <span class="ml-2">Logout </span>
                                </a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
    </div>
    <!--**********************************
        Header end ti-comment-alt
    ***********************************-->

    <!--**********************************
                Sidebar start
    ***********************************-->
    <div class="deznav">
        <div class="deznav-scroll">
            <ul class="metismenu" id="menu">
                <li><a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
                    <i class="flaticon-025-dashboard"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{'/admin/toIndex.html'}">Home</a></li>
                    </ul>

                </li>
                <li><a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
                    <i class="flaticon-050-info"></i>
                    <span class="nav-text">Manage</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{'/admin/user/toList.html'}">User</a></li>
                        <li><a th:href="@{'/admin/order/toList.html'}">Order</a></li>
                        <li><a th:href="@{'/admin/product/toClass.html'}">Class</a></li>
                        <li><a th:href="@{'/admin/product/toList.html'}">Product</a></li>
                        <li><a th:href="@{'/admin/product/listStock'}">Stock</a></li>
                        <li><a th:href="@{'/admin/customization/toList.html'}">Customization</a></li>

                    </ul>
                </li>
                <li><a class="has-arrow ai-icon" href="javascript:void()" aria-expanded="false">
                    <i class="flaticon-041-graph"></i>
                    <span class="nav-text">Charts</span>
                </a>
                    <ul aria-expanded="false">
                        <li><a th:href="@{/admin/product/toSales}">Sale</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <!--**********************************
        Sidebar end
    ***********************************-->

    <!--**********************************
    Content body start
    ***********************************-->
    <div class="content-body">
        <div class="container-fluid">
            <div class="row page-titles mx-0">
                <div class="col-sm-6 p-md-0">
                    <div class="welcome-text">
                        <h4>Hi, welcome back!</h4>
                        <p class="mb-0">Your sales data is here</p>
                    </div>
                </div>
                <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                    <ol class="breadcrumb">
                        <li class="breadcrumb-item"><a href="javascript:void(0)">Charts</a></li>
                        <li class="breadcrumb-item active"><a href="javascript:void(0)">Sale</a></li>
                    </ol>
                </div>
            </div>
            <!-- row -->

            <div class="row">
                <div class="col-12">
                    <div class="row">
                        <div class="col-xl-6 col-lg-12 col-sm-12">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Pie Chart</h4>
                                </div>
                                <div class="card-body">
                                    <div class="chart-holder">
                                        <!-- <div id="chartA"></div> -->
                                        <!--饼状图-->
                                        <div id="container" style="height: 400px"></div>
                                        <script>
                                            var type = new Array();
                                            var count = new Array();
                                            axios({
                                                method: "get",
                                                url: "/mall/admin/sale/Sales"
                                            }).then(function (rep) {
                                                console.log(rep)
                                                for (let i = 0; i < rep.data.length; i++) {

                                                    const repElement = rep.data[i];
                                                    type[i] = repElement.type
                                                    count[i] = repElement.mount
                                                    console.log(type[i])
                                                    //console.log(count[])
                                                    // JS 代码
                                                    var chart = Highcharts.chart('container', {
                                                        chart: {
                                                            type: 'pie',
                                                            options3d: {
                                                                enabled: true,
                                                                alpha: 45
                                                            }
                                                        },
                                                        title: {
                                                            text: 'Comparison of total sales of different food'
                                                        },
                                                        subtitle: {
                                                            text: '3D ring chart of sales'
                                                        },
                                                        plotOptions: {
                                                            pie: {
                                                                innerSize: 100,
                                                                depth: 45
                                                            }
                                                        },
                                                        series: [{
                                                            name: 'sales',
                                                            data: [
                                                                [type[0], count[0]],
                                                                [type[1], count[1]],
                                                                [type[2], count[2]],
                                                                [type[3], count[3]],
                                                                [type[4], count[4]],
                                                                [type[5], count[5]],
                                                                [type[6], count[6]],
                                                                [type[7], count[7]],
                                                                [type[8], count[8]],
                                                                [type[9], count[9]],
                                                                [type[10], count[10]],
                                                                [type[11], count[11]],
                                                            ]
                                                        }]
                                                    });
                                                }
                                            })

                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6">
                            <div class="card">
                                <div class="card-header">
                                    <h4 class="card-title">Bar Chart</h4>
                                </div>
                                <div class="card-body">
                                    <div class="chart-holder">
                                        <!--柱状图-->
                                        <!-- <div id="chartB"></div> -->
                                        <div id="container1"></div>
                                        <script>
                                            var type = new Array();
                                            var count = new Array();
                                            axios({
                                                method: "get",
                                                url: "/mall/admin/sale/Sales"
                                            }).then(function (rep) {
                                                console.log(rep)
                                                for (let i = 0; i < rep.data.length; i++) {
                                                    const repElement = rep.data[i];
                                                    type[i] = repElement.type
                                                    count[i] = repElement.mount
                                                    console.log(count[i])

                                                    // JS 代码
                                                    var chart = Highcharts.chart('container1', {
                                                        title: {
                                                            text: 'Food sales ranking'
                                                        },
                                                        subtitle: {
                                                            text: ''
                                                        },
                                                        xAxis: {
                                                            categories: type
                                                        },
                                                        series: [{
                                                            type: 'column',
                                                            colorByPoint: true,
                                                            data: count,
                                                            showInLegend: false
                                                        }]
                                                    });
                                                    // 给 wrapper 添加点击事件
                                                    Highcharts.addEvent(document.getElementById('wrapper'), 'click', function (e) {
                                                        var target = e.target,
                                                            button = null;
                                                        if (target.tagName === 'BUTTON') { // 判断点的是否是 button
                                                            button = target.id;
                                                            switch (button) {
                                                                case 'plain':
                                                                    chart_count.update({
                                                                        chart: {
                                                                            inverted: false,
                                                                            polar: false
                                                                        },
                                                                        subtitle: {
                                                                            text: '普通的'
                                                                        }
                                                                    });
                                                                    break;
                                                                case 'inverted':
                                                                    chart_count.update({
                                                                        chart: {
                                                                            inverted: true,
                                                                            polar: false
                                                                        },
                                                                        subtitle: {
                                                                            text: '反转'
                                                                        }
                                                                    });
                                                                    break;
                                                                case 'polar':
                                                                    chart_count.update({
                                                                        chart: {
                                                                            inverted: false,
                                                                            polar: true
                                                                        },
                                                                        subtitle: {
                                                                            text: '极地图'
                                                                        }
                                                                    });
                                                                    break;
                                                            }
                                                        }
                                                    });
                                                }
                                            })
                                        </script>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--**********************************
        Content body end
    ***********************************-->

    <!--**********************************
            Scripts
        ***********************************-->
    <!-- Required vendors -->
    <script th:src="@{/manage/vendor/global/global.min.js}"></script>
    <script th:src="@{/manage/vendor/bootstrap-select/dist/js/bootstrap-select.min.js}"></script>
    <script th:src="@{/manage/vendor/chart.js/Chart.bundle.min.js}"></script>

    <!-- Chart piety plugin files -->
    <script th:src="@{/manage/vendor/peity/jquery.peity.min.js}"></script>

    <!-- Apex Chart -->
    <script th:src="@{/manage/vendor/apexchart/apexchart.js}"></script>

    <!-- Dashboard 1 -->
    <script th:src="@{/manage/js/dashboard/dashboard-1.js}"></script>

    <script th:src="@{/manage/js/custom.js}"></script>
    <script th:src="@{/manage/js/deznav-init.js}"></script>
    <script th:src="@{/manage/js/demo.js}"></script>
<!--    <script th:src="@{/manage/js/styleSwitcher.js}"></script>-->
    <script th:src="@{/js/script.js}"></script>

</body>
</html>